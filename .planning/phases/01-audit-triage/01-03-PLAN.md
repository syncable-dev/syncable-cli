---
phase: 01-audit-triage
plan: 03
type: execute
---

<objective>
Categorize all discovered bugs by severity and create prioritized fix list.

Purpose: Transform raw test results into actionable prioritized work for subsequent phases.
Output: AUDIT-REPORT.md with bug categories, severity rankings, and recommended fix order.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-audit-triage/TOOL-INVENTORY.md
@.planning/phases/01-audit-triage/TEST-RESULTS.md
@.planning/phases/01-audit-triage/01-01-SUMMARY.md
@.planning/phases/01-audit-triage/01-02-SUMMARY.md

**Categorization context:**
- Core value: Tool reliability - tools must work correctly every time
- Project has 10 phases planned, bugs should map to appropriate phases
- Dependencies matter: foundational tools should be fixed first
</context>

<tasks>

<task type="auto">
  <name>Task 1: Categorize bugs by type and severity</name>
  <files>.planning/phases/01-audit-triage/BUG-CATEGORIES.md</files>
  <action>
Analyze TEST-RESULTS.md and categorize each bug:

**Bug Types:**
- CRASH - Tool throws unhandled error
- WRONG_OUTPUT - Tool returns incorrect data
- SILENT_FAIL - Tool appears to work but doesn't do what expected
- MISSING_FEATURE - Tool lacks expected capability
- POOR_UX - Tool works but output is confusing/unhelpful
- DEPENDENCY_FAIL - External service integration broken

**Severity Levels:**
- CRITICAL - Tool completely unusable, blocks core functionality
- HIGH - Major feature broken, workaround difficult
- MEDIUM - Feature impaired, workaround exists
- LOW - Minor issue, cosmetic or edge case

**For each bug, record:**
- Tool name
- Bug type
- Severity
- Description
- Error evidence (from test results)
- Suspected root cause (if determinable)
- Affected phase (which roadmap phase would fix this)

Group bugs by:
1. By tool (all bugs per tool)
2. By severity (critical first)
3. By affected phase (for roadmap alignment)
  </action>
  <verify>All failures from TEST-RESULTS.md are categorized</verify>
  <done>Every bug has type, severity, and phase assignment</done>
</task>

<task type="auto">
  <name>Task 2: Create prioritized fix order</name>
  <files>.planning/phases/01-audit-triage/PRIORITY-LIST.md</files>
  <action>
Create prioritized fix list considering:

**Priority factors:**
1. Severity (critical > high > medium > low)
2. Dependencies (tools that other tools depend on = higher priority)
3. Frequency (commonly used tools = higher priority)
4. Complexity (quick wins vs major refactors)
5. Phase alignment (fixes that align with roadmap phases)

**Output structure:**
1. **Immediate fixes** (Critical bugs, quick wins)
2. **Phase 4 targets** (Core tool fixes: analyze, file_ops, shell)
3. **Phase 5 targets** (Lint tool fixes: hadolint, helmlint, kubelint, dclint)
4. **Phase 6 targets** (K8s tool fixes: k8s_optimize, prometheus_connect, k8s_costs)
5. **Phase 7-8 targets** (Context/UI issues)
6. **Deferred** (Low severity, edge cases, nice-to-have)

For each item, include:
- Bug reference
- Estimated complexity (trivial/small/medium/large)
- Dependencies (what must be fixed first)
- Recommendation
  </action>
  <verify>PRIORITY-LIST.md contains ordered list with all bugs</verify>
  <done>Clear fix order established with rationale</done>
</task>

<task type="auto">
  <name>Task 3: Create comprehensive AUDIT-REPORT.md</name>
  <files>.planning/phases/01-audit-triage/AUDIT-REPORT.md</files>
  <action>
Create final audit report synthesizing all Phase 1 work:

**Report structure:**

## Executive Summary
- Total tools audited
- Overall health score (% working)
- Critical issues count
- Recommended immediate actions

## Tool Health Overview
- Table: Tool | Category | Health | Priority Issues
- Visual indicator: GREEN/YELLOW/RED per tool

## Bug Summary
- By type distribution
- By severity distribution
- By phase assignment

## Critical Path
- What must be fixed for basic agent usability
- Dependency chain analysis
- Recommended fix sequence

## Roadmap Validation
- Do planned phases align with discovered issues?
- Any phases that should be reordered?
- Any new phases needed?
- Phase scope adjustments recommended

## Phase-Specific Recommendations
For each upcoming phase, list:
- Confirmed targets (bugs that match phase intent)
- Additional targets (bugs discovered that fit)
- Scope concerns (if too much or too little)

## Testing Infrastructure Needs
- What testing would have caught these bugs?
- Input for Phase 9 (Test Infrastructure)
- Mock requirements identified

## Appendices
- Link to TOOL-INVENTORY.md
- Link to TEST-RESULTS.md
- Link to BUG-CATEGORIES.md
- Link to PRIORITY-LIST.md
  </action>
  <verify>AUDIT-REPORT.md exists and synthesizes all findings</verify>
  <done>Comprehensive report ready to guide all subsequent phases</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All bugs from TEST-RESULTS.md categorized
- [ ] Priority list created with clear ordering
- [ ] AUDIT-REPORT.md synthesizes all Phase 1 findings
- [ ] Recommendations align with roadmap phases
- [ ] Report actionable for subsequent phases
</verification>

<success_criteria>

- Every discovered bug is categorized and prioritized
- Clear mapping of bugs to roadmap phases
- Roadmap validated against actual findings
- Subsequent phases have clear targets
- Phase 1 complete with comprehensive audit documentation
</success_criteria>

<output>
After completion, create `.planning/phases/01-audit-triage/01-03-SUMMARY.md`:

# Phase 1 Plan 03: Bug Categorization & Prioritization Summary

**[One-liner: X bugs categorized, Y critical, roadmap validated/adjusted]**

## Accomplishments

- [N] bugs categorized by type and severity
- Priority list created with fix order
- Comprehensive audit report synthesizing all findings
- Roadmap alignment verified

## Files Created/Modified

- `.planning/phases/01-audit-triage/BUG-CATEGORIES.md` - Bug classifications
- `.planning/phases/01-audit-triage/PRIORITY-LIST.md` - Prioritized fix order
- `.planning/phases/01-audit-triage/AUDIT-REPORT.md` - Final audit report

## Decisions Made

[Categorization and prioritization decisions]

## Issues Encountered

[Any ambiguous bugs or prioritization challenges]

## Next Phase Readiness

Phase 1 complete. Ready for Phase 2 (Session Refactoring).

**Key handoffs:**
- AUDIT-REPORT.md provides targets for Phases 4-8
- Testing needs inform Phase 9
- Roadmap adjustments (if any) documented
</output>
